!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){"use strict";n.r(t),n.d(t,"imageProxyURL",function(){return c});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=window,o=i.each,a=i.intval;function c(e,t){var n=[];return o(t,function(e,t){switch(e){case"size":i=(""+t).split("x"),o=r(i,2),a=o[0],c=o[1],a=a?l(a):"",c=c?l(c):"",t=a+"x"+c}var i,o,a,c;t&&n.push(e+"="+t)}),n.length?e+"&"+n.join("&"):e}function l(e){return 0<e&&e<1?Math.round(100*e)/100:a(e)}},function(e,t,n){"use strict";n.r(t);n(4),n(3),n(14),n(7);try{stManager.done(jsc("web/article_layer.js"))}catch(e){}},function(e,t,n){"use strict";n.r(t),n.d(t,"getFiles",function(){return c}),n.d(t,"clipboardProcessPaste",function(){return s}),n.d(t,"copyToClipboard",function(){return d});var r=n(20),i=n(11),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i.Promise;function c(e){var t=function(e){return e&&e.clipboardData?e.clipboardData:e&&e.originalEvent&&e.originalEvent.clipboardData?e.originalEvent.clipboardData:window.clipboardData}(e);if(!t)return[];var n=t.items;if(!n)return[];for(var r=[],i=0;i<n.length;i++)0==n[i].type.indexOf("image")&&r.push(n[i].getAsFile());return r}var l=!1,u=null;function s(e){return new a(function(t,n){if(l)return cancelEvent(e),n();var i=Object(r.rangeGet)(),c=o(i,5),s=c[0],d=c[1],f=c[2],h=c[3],p=c[4];if(s){if("paste"===e.type){var v=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;if(v&&v.types&&v.getData){cancelEvent(e),l=!0;var g=v.getData("text/html")||clean(v.getData("text/plain"))||"";return t([g,function(e){Object(r.rangeInsert)(s,e),l=!1}])}for(var w=cf(),m=e.target||window.event.srcElement;m.firstChild;)w.appendChild(m.firstChild);return new a(function(e){return setTimeout(function(){var t=m.innerHTML||"";m.innerHTML="",m.appendChild(w),e([t,function(e){s=Object(r.rangeCreate)(d,f,h,p),Object(r.rangeInsert)(s,e),l=!1}])},0)})}if("beforepaste"===e.type)return l=!0,function(){if(!u){var e=ge("utils");u=ce("div",{},{width:"10px",height:"10px",overflow:"hidden"}),attr(u,"contenteditable","true"),e.appendChild(u)}}(),u.focus(),void(u.onpaste=function(){setTimeout(function(){var e=u.innerHTML||"";u.innerHTML="",delete u.onpaste,t([e,function(e){s=Object(r.rangeCreate)(d,f,h,p),Object(r.rangeInsert)(s,e),l=!1}])},0)})}return n()})}function d(e){var t=document.createElement("input"),n=document.activeElement;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.focus()}},function(e,t,n){"use strict";function r(e,t){var n=t.timeout,r=t.onLoad,i=t.onError,o=document.createElement("script");o.addEventListener("load",c),o.addEventListener("readystatechange",c),o.addEventListener("error",l),o.src=e,document.head.appendChild(o);var a=void 0;function c(e){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(u(),r&&r())}function l(e){u(),i&&i()}function u(){clearTimeout(a),o.removeEventListener("load",c),o.removeEventListener("readystatechange",c),o.removeEventListener("error",l)}return n&&(a=setTimeout(l,n)),{destroy:function(){u()}}}n.r(t),n.d(t,"loadScript",function(){return r}),window.loadScript=r},function(e,t,n){"use strict";n.r(t),n.d(t,"ge",function(){return o}),n.d(t,"geByTag",function(){return a}),n.d(t,"geByTag1",function(){return c}),n.d(t,"geByClass",function(){return l}),n.d(t,"geByClass1",function(){return u}),n.d(t,"gpeByClass",function(){return s}),n.d(t,"domQuery",function(){return d}),n.d(t,"domQuery1",function(){return f}),n.d(t,"domClosest",function(){return h}),n.d(t,"domClosestByTag",function(){return p}),n.d(t,"gpeByTag",function(){return v}),n.d(t,"ce",function(){return g}),n.d(t,"re",function(){return S}),n.d(t,"se",function(){return C}),n.d(t,"sech",function(){return T}),n.d(t,"rs",function(){return E}),n.d(t,"psr",function(){return O}),n.d(t,"domReplaceEl",function(){return j}),n.d(t,"domEL",function(){return x}),n.d(t,"domNS",function(){return k}),n.d(t,"domPS",function(){return A}),n.d(t,"domFC",function(){return L}),n.d(t,"domLC",function(){return D}),n.d(t,"domPN",function(){return N}),n.d(t,"domChildren",function(){return M}),n.d(t,"domInsertBefore",function(){return P}),n.d(t,"domInsertAfter",function(){return B}),n.d(t,"domByClass",function(){return H}),n.d(t,"domData",function(){return I}),n.d(t,"domChildIndex",function(){return R}),n.d(t,"domCA",function(){return F}),n.d(t,"domClosestSibling",function(){return Y}),n.d(t,"matchesSelector",function(){return W}),n.d(t,"isHover",function(){return z}),n.d(t,"isAncestor",function(){return V}),n.d(t,"getScroll",function(){return U}),n.d(t,"domClosestPositioned",function(){return K}),n.d(t,"domClosestOverflowHidden",function(){return X}),n.d(t,"show",function(){return q}),n.d(t,"hide",function(){return G}),n.d(t,"isVisible",function(){return $}),n.d(t,"clientHeight",function(){return Q}),n.d(t,"getClientRectOffsetY",function(){return Z}),n.d(t,"toggle",function(){return J}),n.d(t,"boundingRectEnabled",function(){return ee}),n.d(t,"getXYRect",function(){return te}),n.d(t,"getXY",function(){return ne}),n.d(t,"isWindow",function(){return re}),n.d(t,"getSize",function(){return ie}),n.d(t,"getW",function(){return oe}),n.d(t,"getH",function(){return ae}),n.d(t,"hasClass",function(){return ce}),n.d(t,"addClass",function(){return le}),n.d(t,"addClassDelayed",function(){return ue}),n.d(t,"removeClass",function(){return se}),n.d(t,"removeClassDelayed",function(){return de}),n.d(t,"toggleClass",function(){return fe}),n.d(t,"toggleClassDelayed",function(){return he}),n.d(t,"replaceClass",function(){return pe}),n.d(t,"getStyle",function(){return ve}),n.d(t,"setStyle",function(){return ge}),n.d(t,"setStyleDelayed",function(){return we}),n.d(t,"setPseudoStyle",function(){return me}),n.d(t,"data",function(){return _e}),n.d(t,"attr",function(){return ye}),n.d(t,"removeAttr",function(){return be}),n.d(t,"removeData",function(){return Se}),n.d(t,"cleanElems",function(){return Ce}),n.d(t,"setTitle",function(){return Te}),n.d(t,"getZoom",function(){return Ee}),n.d(t,"val",function(){return Oe}),n.d(t,"elfocus",function(){return je}),n.d(t,"traverseParent",function(){return xe}),n.d(t,"setDocumentTitle",function(){return Ae}),n.d(t,"lockDocumentTitle",function(){return Le}),n.d(t,"initDomScripts",function(){return De});var r=n(14),i=n(12),o=function(e){return"string"==typeof e||"number"==typeof e?document.getElementById(e):e};function a(e,t){return(t=o(t)||document).getElementsByTagName(e)}function c(e,t){return(t=o(t)||document).querySelector&&t.querySelector(e)||a(e,t)[0]}function l(e,t,n){return t=o(t)||document,n=n||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(n+e))}function u(e,t,n){return t=o(t)||document,n=n||"*",t.querySelector&&t.querySelector(n+("."+e).replace(/\s+/gm,"."))||l(e,t,n)[0]}function s(e,t,n){if(!(t=o(t)))return null;for(;n!==t&&(t=t.parentNode);)if(ce(t,e))return t;return null}function d(e,t){return(t||document).querySelectorAll(e)}function f(e,t){return(t||document).querySelector(e)}function h(e,t){return ce(t,e)?t:s(e,t)}function p(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:v(e,t)}function v(e,t){if(!(t=o(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}function g(e,t,n){var i=document.createElement(e);return t&&Object(r.extend)(i,t),n&&ge(i,n),i}var w,m,_,y,b=(w=document,m=w.createDocumentFragment(),_=w.createElement("div"),y=w.createRange&&w.createRange(),m.appendChild(_),y&&y.selectNodeContents(_),y&&y.createContextualFragment?function(e){return e?y.createContextualFragment(e):w.createDocumentFragment()}:function(e){if(!e)return w.createDocumentFragment();_.innerHTML=e;for(var t=w.createDocumentFragment();_.firstChild;)t.appendChild(_.firstChild);return t});function S(e){return(e=o(e))&&e.parentNode&&e.parentNode.removeChild(e),e}var C=function(e){return L(g("div",{innerHTML:e}))},T=function(e){return M(g("div",{innerHTML:e}))};function E(e,t){return Object(r.each)(t,function(t,n){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===n?"":n).toString().replace(/\$/g,"&#036;"))}),e}function O(e){return"https:"!==locProtocol?e:e=(e=(e=(e=(e=e.replace(/http:\/\/(cs(\d+)\.vk\.me\/c(\d+)\/)/gi,"https://$1")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/c(\d+)\/(v\d+\/|[a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$3/$4")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$1/$3")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"https://ps.vk.me/c$1/")).replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"https://ps.vk.me/v$1/")}function j(e,t){return Object(r.isString)(t)&&(t=C(t)),N(e).replaceChild(t,e),t}function x(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}var k=function(e){return x((e||{}).nextSibling)},A=function(e){return x((e||{}).previousSibling,1)},L=function(e){return x((e||{}).firstChild)},D=function(e){return x((e||{}).lastChild,1)},N=function(e){return(e||{}).parentNode};function M(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)n[r].tagName&&t.push(n[r]);return t}function P(e,t){var n=N(t);return n&&n.insertBefore(e,t)}function B(e,t){var n=N(t);return n&&n.insertBefore(e,k(t))}function H(e,t){return e?u(t,e):e}function I(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function R(e){for(var t=0;null!=(e=A(e));)t++;return t}function F(e,t){do{e=N(e)}while(e&&!W(e,t));return e}function Y(e,t,n){for(var r=null;null===r&&e;)(e=-1===n?A(e):k(e))&&W(e,t)&&(r=e);return r}function W(e,t){return!(!(e=o(e))||e===document)&&(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}).call(e,t)}function z(e){return W(e,":hover")}function V(e,t){var n=o(e);if(t=o(t),!e||!t)return!1;for(;n=n.parentNode;)if(n===t)return!0;return!1}function U(){var e=browser.msie6?o("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function K(e,t){for(var n=(t=t||{}).fromEl||N(e),i=t.positions||["relative","absolute","fixed"];n&&n!==bodyNode;){var o=ve(n,"position");if(Object(r.inArray)(o,i)&&(!t.noOverflow||"hidden"!==ve(n,"overflow")))break;n=N(n)}return n}function X(e,t){for(var n=e=o(e),r=void 0,i=void 0,a=void 0,c=!1;n&&n.tagName&&n!==bodyNode;){if(r=ve(n,"position"),i=ve(n,"overflow"),a=ve(n,"transform"),t&&browser.mozilla){if("page_wrap"!=n.id&&n!==e&&"visible"!==i&&("static"===r?!c||"relative"===c:"fixed"!==c))break}else if(n!==e&&"visible"!==i&&("static"===r?!c||"relative"===c:"fixed"!==c))break;"none"!==a?c=void 0:"static"!==r&&"fixed"!==c&&(c=r),n=N(n)}return n}function q(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)q(arguments[n]);else if((e=o(e))&&e.style){var r=e.olddisplay,i=e.tagName.toLowerCase(),a="block";e.style.display=r||"","none"===ve(e,"display")&&(a=ce(e,"inline")||ce(e,"_inline")?"inline":ce(e,"_inline_block")?"inline-block":"tr"!==i||browser.msie?"table"!==i||browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=a)}}function G(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)G(arguments[n]);else if((e=o(e))&&e.style){var r=ve(e,"display");e.olddisplay="none"!==r?r:"",e.style.display="none"}}function $(e){return!(!(e=o(e))||!e.style)&&"none"!==ve(e,"display")}function Q(){return window.innerHeight||document.documentElement.clientHeight||bodyNode.clientHeight}function Z(e,t,n){e=o(e),n=n||0;var i=ne(e)[1],a=ie(e)[1],c=window,l=document.documentElement,u=Math.max(Object(r.intval)(c.innerHeight),Object(r.intval)(l.clientHeight)),s=o("page_header_cont"),d=l.scrollTop||bodyNode.scrollTop||window.scrollY||0,f=vk.staticheader?Math.max(0,ie(s)[1]-d):ie(s)[1];if(t){if(i+a<d+f+n)return i+a-d-f-n;if(i>d+u-n)return i-d-u+n}else{if(i<d+f+n)return i-d-f-n;if(i+a>d+u-n)return i+a-d-u+n}return 0}function J(e,t){return void 0===t&&(t=!$(e)),t?q(e):G(e),t}function ee(e){return void 0!==e.getBoundingClientRect}function te(e,t){var n=void 0;if(t&&"inline"===ve(e,"display")){var r=e.getClientRects();n=r&&r[0]||e.getBoundingClientRect()}else n=e.getBoundingClientRect();return n}function ne(e,t){if(!(e=o(e)))return[0,0];var n=e.ownerDocument,r={top:0,left:0};if(!n)return[0,0];var i=n.documentElement;ee(e)&&(r=te(e,!0));var a=n===n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow);return[r.left+(t?0:a.pageXOffset||i.scrollLeft)-(i.clientLeft||0),r.top+(t?0:a.pageYOffset||i.scrollTop)-(i.clientTop||0)]}function re(e){return null!=e&&e===e.window}function ie(e,t,n){e=o(e);var i=document.documentElement,a=[0,0],c=void 0;if(t&&"border-box"===ve(e,"boxSizing")&&(t=!1),e===document)a=[Math.max(i.clientWidth,bodyNode.scrollWidth,i.scrollWidth,bodyNode.offsetWidth,i.offsetWidth),Math.max(i.clientHeight,bodyNode.scrollHeight,i.scrollHeight,bodyNode.offsetHeight,i.offsetHeight)];else if(e){var l=function(){a=ee(e)&&(c=te(e,n))&&void 0!==c.width?[c.width,c.height]:[e.offsetWidth,e.offsetHeight],t&&Object(r.each)(a,function(t,n){var i=t?["Top","Bottom"]:["Left","Right"];Object(r.each)(i,function(){a[t]-=parseFloat(ve(e,"padding"+this))||0,a[t]-=parseFloat(ve(e,"border"+this+"Width"))||0})})};if($(e))l();else{var u={position:"absolute",visibility:"hidden",display:"block"},s={},d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),Object(r.each)(u,function(t,n){s[t]=e.style[t],e.style[t]=n}),l(),Object(r.each)(u,function(t,n){e.style[t]=s[t]}),d&&(e.style.cssText=d)}}return a}function oe(e){return ie(e)[0]}function ae(e){return ie(e)[1]}function ce(e,t){var n=o(e);return n&&1===n.nodeType&&(" "+n.className+" ").replace(window.whitespaceRegex," ").indexOf(" "+t+" ")>=0}function le(e,t){var n=o(e);n&&!ce(n,t)&&(n.className=(n.className?n.className+" ":"")+t)}window.whitespaceRegex=/[\t\r\n\f]/g;var ue=function(e,t){return setTimeout(le.pbind(e,t),0)};function se(e,t){var n=o(e);n&&(n.className=Object(r.trim)((n.className||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ")))}var de=function(e,t){return setTimeout(se.pbind(e,t),0)};function fe(e,t,n){return void 0===n&&(n=!ce(e,t)),(n?le:se)(e,t),n}function he(e,t,n){return void 0===n&&(n=!ce(e,t)),(n?ue:de)(e,t),n}function pe(e,t,n){se(e,t),le(e,n)}function ve(e,t,n){if(e=o(e),Object(r.isArray)(t)){var i={};return Object(r.each)(t,function(t,n){return i[n]=ve(e,n)}),i}if(!e)return"";if(void 0===n&&(n=!0),!n&&"opacity"===t&&browser.msie){var a=e.style.filter;return a?a.indexOf("opacity=")>=0?parseFloat(a.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!n&&e.style&&(e.style[t]||"height"===t))return e.style[t];var c=void 0,l=document.defaultView||window;if(l.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var u=l.getComputedStyle(e,null);u&&(c=u.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&browser.msie){var s=e.currentStyle.filter;return s&&s.indexOf("opacity=")>=0?parseFloat(s.match(/opacity=([^)]*)/)[1])/100+"":"1"}var d=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});"auto"===(c=e.currentStyle[t]||e.currentStyle[d])&&(c=0),c=(c+"").split(" "),Object(r.each)(c,function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,c[t]=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}}),c=c.join(" ")}if(n&&("width"===t||"height"===t)){var f=ie(e,!0)[{width:0,height:1}[t]];c=(Object(r.intval)(c)?Math.max(Object(r.floatval)(c),f):f)+"px"}return c}function ge(e,t,n){if(e=o(e))if(Object(r.isObject)(t))Object(r.each)(t,function(t,n){return ge(e,t,n)});else if("opacity"===t)browser.msie&&((n+"").length?e.style.filter=1!==n?"alpha(opacity="+100*n+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==n&&(e.style.opacity=n);else try{var i="number"==typeof n;i&&/height|width/i.test(t)&&(n=Math.abs(n)),n=i&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n,e.style[t]!==n&&(e.style[t]=n)}catch(e){debugLog("setStyle error: ",[t,n],e)}}window.cssTransformProp=function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}();var we=function(e,t,n){return setTimeout(ge.pbind(e,t,n),0)};function me(e,t,n){var i=_e(e,"pseudo-id");i||(_e(e,"pseudo-id",i=Object(r.irand)(1e8,999999999)),le(e,"_pseudo_"+i));var a=t+"-style-"+i,c=o(a),l="._pseudo_"+i+":"+t+"{";c||(c=headNode.appendChild(g("style",{id:a,type:"text/css"}))),Object(r.each)(n,function(e,t){l+=e+": "+t+" !important;"}),l+="}",c.sheet?(c.sheet.cssRules.length&&c.sheet.deleteRule(0),c.sheet.insertRule(l,0)):c.styleSheet&&(c.styleSheet.cssText=l)}function _e(e,t,n){if(!e)return!1;var r=e[vkExpand];return r||(r=e[vkExpand]=++vkUUID),void 0!==n&&(vkCache[r]||(vkCache[r]={},window.__debugMode&&(vkCache[r].__elem=e)),vkCache[r][t]=n),t?vkCache[r]&&vkCache[r][t]:r}function ye(e,t,n){return e=o(e),void 0===n?e.getAttribute(t):(e.setAttribute(t,n),n)}function be(e){for(var t=0,n=arguments.length;t<n;++t){var r=arguments[t];if(void 0!==e[r])try{delete e[r]}catch(t){try{e.removeAttribute(r)}catch(e){}}}}function Se(e,t){var n=!!e&&e[vkExpand];if(n)if(t){if(vkCache[n]){delete vkCache[n][t],t="";var r=0;for(var o in vkCache[n])if("__elem"!==o){r++;break}r||Se(e)}}else Object(i.removeEvent)(e),be(e,vkExpand),delete vkCache[n]}function Ce(){for(var e=arguments,t=0;t<e.length;++t){var n=o(e[t]);n&&(Se(n),be(n,"btnevents"))}}function Te(e,t,n){if((e=o(e))&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth)e.setAttribute("title",n||e.innerText||e.textContent);else{var r=c("b",e);r&&r.scrollWidth>r.clientWidth?e.setAttribute("title",n||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function Ee(){var e=o("zoom_test_1")||document.body.appendChild(g("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"}));return(o("zoom_test_2")||document.body.appendChild(g("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}))).offsetLeft/e.offsetLeft}function Oe(e,t,n){if(e=o(e))return void 0!==t&&(e.setValue?(e.setValue(t),!n&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!n&&Object(i.triggerEvent)(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function je(e,t,n){e=o(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.setSelectionRange)e.setSelectionRange(t,n);else if(window.getSelection&&document.createRange){var r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(r)}}catch(e){}}function xe(e,t,n){for(e=o(e),n=n||999;e&&!t(e);){if(0===--n)return!1;try{if((e=N(e))===document)break}catch(t){e=!1}}return e}var ke=!1;function Ae(e){if(!ke)return window.document.title=Object(r.replaceEntities)(e)}function Le(e){ke=e,e&&window.cur&&window.cur.destroy.push(function(){Le(!1)})}function De(){window.vkExpand=window.vkExpand||"VK"+Object(r.vkNow)(),window.vkUUID=window.vkUUID||0,window.vkCache=window.vkCache||{}}window.ge=o,window.geByTag=a,window.geByTag1=c,window.geByClass=l,window.geByClass1=u,window.gpeByClass=s,window.domQuery=d,window.domQuery1=f,window.domClosest=h,window.ce=g,window.cf=b,window.re=S,window.se=C,window.sech=T,window.rs=E,window.psr=O,window.domReplaceEl=j,window.domEL=x,window.domNS=k,window.domPS=A,window.domFC=L,window.domLC=D,window.domPN=N,window.domChildren=M,window.domInsertBefore=P,window.domInsertAfter=B,window.domByClass=H,window.domData=I,window.domChildIndex=R,window.domCA=F,window.domClosestSibling=Y,window.matchesSelector=W,window.isHover=z,window.isAncestor=V,window.getScroll=U,window.domClosestPositioned=K,window.domClosestOverflowHidden=X,window.show=q,window.hide=G,window.isVisible=$,window.clientHeight=Q,window.getClientRectOffsetY=Z,window.toggle=J,window.boundingRectEnabled=ee,window.getXYRect=te,window.getXY=ne,window.isWindow=re,window.getSize=ie,window.hasClass=ce,window.addClass=le,window.addClassDelayed=ue,window.removeClass=se,window.removeClassDelayed=de,window.toggleClass=fe,window.toggleClassDelayed=he,window.replaceClass=pe,window.getStyle=ve,window.setStyle=ge,window.setStyleDelayed=we,window.setPseudoStyle=me,window.data=_e,window.attr=ye,window.removeAttr=be,window.removeData=Se,window.cleanElems=Ce,window.setTitle=Te,window.getZoom=Ee,window.val=Oe,window.elfocus=je,window.traverseParent=xe,window.getH=ae,window.getW=oe,window.domClosestByTag=p,window.setDocumentTitle=Ae,window.lockDocumentTitle=Le},function(e,t,n){"use strict";n.r(t),n.d(t,"initPhotoCarousel",function(){return o});var r=n(19),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(e,t){var n=domQuery1("[data-sizes]",e),o=JSON.parse(domData(n,"sizes")),a=(domData(n,"media-links")||"").split(",");if(!(o.length<=1||domData(e,"carousel-inited"))){if(domData(e,"carousel-inited",1),t.mobile)return function(e,t){var n=geByClass1("article_photo_carousel__controls",t),o=geByClass1("article_photo_carousel__counter",t),a=domData(o,"counter-lang")||getLang("global_article_carousel_counter"),c=getSize(geByClass1("article_figure_content",t)),l=domPN(geByTag1("img",t)),u=0,s=void 0,d=0,f=void 0,h=void 0,p=0,v=!1,g=!1,w=!1;n.addEventListener("touchstart",function(e){h=e.touches[0].pageX,f=e.touches[0].pageY});var m=!1,_=void 0;return n.addEventListener("touchmove",function(n){if(g||!(Math.abs(n.touches[0].pageY-f)>5||v)){if(!w&&(d=n.touches[0].pageX-h,!(Math.abs(d)<10)||m)){g||window.addEventListener("touchmove",_=function(e){return cancelEvent(e)},{passive:!1}),g=!0,m=!0;var o=Math.min(e.length-1,Math.max(0,u+(d<0?1:-1))),a=0===o&&0===u,y=o===e.length-1&&u===e.length-1;if(p!==o)if(p=o,re(s),a||y)s=!1;else{var b=Object(r.getAppropriateImage)(e[o],c[0],!0),S=i(b,1)[0];s=ce("div",{innerHTML:'<img src="'+S+'">'}),setStyle(domFC(s),{"max-width":c[0],"max-height":c[1],width:"initial"}),setStyle(s,{transform:"scale(1.05)",opacity:0}),domInsertBefore(s,domPN(geByTag1("img",t)))}var C=Math.abs(d),T=0;T=a||y?.2*d:d,setStyle(l,{transform:"translateX("+T+"px)"}),s&&setStyle(s,{transform:"scale("+Math.max(1,1.05-5e-4*C)+")",opacity:Math.min(1,.01*C)})}}else v=!0}),n.addEventListener("touchend",function(){m=!1,v=!1,w=!0,g=!1,_&&window.removeEventListener("touchmove",_);var n=d<0,f=Math.abs(d)<50||!s;if(!f){for(var h=u=p;h<Math.min(u+3,e.length);h++){var y=Object(r.getAppropriateImage)(e[h],c[0],!0),b=i(y,1)[0];Object(r.preloadImage)(b)}domData(t,"photo-carousel-index",u)}o.innerHTML=a.replace("{counter}",u+1).replace("{total}",e.length),addClass(l,"with_transition"),addClass(s,"with_transition"),setTimeout(function(){f?(setStyle(l,{transform:"translateX(0px)",opacity:1}),setStyle(s,{transform:"scale(1.05)",opacity:0})):(setStyle(l,{transform:"translateX("+(n?"-500px":"500px")+")"}),setStyle(s,{transform:"scale(1)",opacity:1}))}),setTimeout(function(){w=!1,p=!1,removeClass(l,"with_transition"),removeClass(s,"with_transition"),f?re(s):(re(l),l=s),s=!1},150)}),function(n){var s=Object(r.getAppropriateImage)(e[n],c[0],!0),d=i(s,1)[0],f=geByTag1("img",t);f.src=d,u=p=n,domData(t,"photo-carousel-index",u),l=domPN(f),o.innerHTML=a.replace("{counter}",u+1).replace("{total}",e.length)}}(o,e);var c=function(e,t,n,o){var a=0,c=geByClass1("article_photo_carousel__controls",t),l=geByClass1("article_photo_carousel__counter",t),u=domData(l,"counter-lang")||getLang("global_article_carousel_counter"),s=getSize(geByClass1("article_figure_content",t)),d=domPN(geByTag1("img",t)),f=geByClass1("article_photo_carousel__left",t),h=geByClass1("article_photo_carousel__right",t);function p(c){a+=c,a=Math.min(e.length-1,Math.max(0,a));var p=Object(r.getAppropriateImage)(e[a],s[0],!0),v=i(p,1),g=v[0],w="";if(n.moderDeletePhoto){var m=o[a];w='<a href="'+m+'" target="_blank" class="flat_button article_photo_moder_open">Открыть</a>'}var _=c<0?"fading_in_left":"fading_in_right",y=se('<div class="'+_+'"><img src="'+g+'">'+w+"</div>");setStyle(domFC(y),{"max-width":s[0],"max-height":Math.ceil(s[1])+1,width:"initial"}),domInsertAfter(y,domPN(geByTag1("img",t)));var b=d;setTimeout(function(){removeClass(y,"fading_in_left"),removeClass(y,"fading_in_right"),addClass(b,"fading_out")}),setTimeout(function(){re(b)},150);for(var S=a;S<Math.min(a+3,e.length);S++){var C=Object(r.getAppropriateImage)(e[S],s[0],!0),T=i(C,1),E=T[0];Object(r.preloadImage)(E)}d=y,l.innerHTML=u.replace("{counter}",a+1).replace("{total}",e.length),toggle(f,a>0),toggle(h,a<e.length-1),domData(t,"photo-carousel-index",a)}var v=void 0;function g(e){clearTimeout(v),toggleClass(c,"article_photo_carousel__mouse_idle",e)}var w=browser.msie&&intval(browser.version)<=11;return h.addEventListener("click",function(e){return p(1),w||t.dispatchEvent(new Event("mousemove")),cancelEvent(e)}),f.addEventListener("click",function(e){return p(-1),w||t.dispatchEvent(new Event("mousemove")),cancelEvent(e)}),t.addEventListener("mousemove",function(){g(!1),addClass(c,"article_photo_carousel__mouse_over"),clearTimeout(v),v=setTimeout(function(){g(!0)},1e3)}),t.addEventListener("mouseleave",function(){clearTimeout(v),removeClass(c,"article_photo_carousel__mouse_over"),removeClass(c,"article_photo_carousel__mouse_idle")}),p}(o,e,t,a);data(e,"changePhotoFunction",c)}}},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(15),o=n(13),a=(n(19),n(2));var c=window,l=c.bookmark,u=c.show,s=c.hide,d=c.removeClass,f=c.lockDocumentTitle,h=c.setDocumentTitle,p=c.replaceEntities,v=c.stripHTML,g=c.isObject,w=c.buttonLocked,m=c.se,_=c.inArray,y=c.toggleClassDelayed,b=c.cancelEvent,S=c.nav,C=c.gpeByClass,T=c.geByClass1,E=c.toggleClass,O=c.setStyle,j=c.re,x=c.ge,k=c.domData,A=c.addClass,L=c.geByClass,D=c.domClosestByTag,N=c.hasClass,M=c.intval,P=c.ajax,B={},H={},I="",R=!1,F={},Y={},W=[],z=void 0,V=[],U=void 0,K=void 0,X=0,q=0,G=void 0,$=void 0,Q={},Z=void 0,J=void 0,ee=void 0,te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.openEditor=function(t,n,r,i){if(!e.isStandalone())return e.close(!0),setTimeout(function(){S.change({z:"article_edit"+n+"_"+r,from_rev:!!i&&1})}),b(t)},e.isStandalone=function(){return!R},e.setFaded=function(e){E(Y.layer,"article_layer__faded",e)},e.updateLocation=function(){var e=0,t=!1;V.forEach(function(n){var r=n.getScreenVisibilityRatio();r>=e&&(t=n.getArticle(),e=r)}),t&&$!=t.raw_id&&($=t.raw_id,F.infiniteScroll.update_urls&&(history.replaceState({layer:!0},t.title,t.url),f(!1),h(t.title),f(!0)))},e._toggleArticleVisibility=function(e,t){var n=x("article_view_"+e);t=M(t),M(k(n,"visible"))!=t&&(k(n,"visible",t),O(n,"visibility",t?"":"hidden"))},e._initArticleView=function(t,n){if(!isArray(t)||0!=t.length){var a=C("article_layer__content",x("article_view_"+t.raw_id));a||(a=m(n),Y.viewsList.appendChild(a));var c=V.length,l=new r.default(t,{getScrollNode:this.getScrollNode.bind(this),getScrollTop:this.getScrollTop.bind(this),isStandalone:e.isStandalone(),onScroll:function(n){if(!vk.widget){var r=F.infiniteScroll;t.next_scroll_article_url&&n>r.load_threshold&&!Q[t.next_scroll_article_url]&&(V.length<r.max_articles&&e._loadNextArticle(t.next_scroll_article_url),Q[t.next_scroll_article_url]=!0),n>0&&n<1&&0==c&&e._updateScrollSet(t);var i=l.getScreenVisibilityRatio();e.updateLocation(),e._toggleArticleVisibility(t.raw_id,i>0)}},onImageOpen:function(e,t){i.default.open(e,0,t)}},{},!0);V.push(l);var u=T("article_layer_ads_place",a);o.default.init(t,u,F),e.moderActionsInit(t,a)}},e.closeImageFullSize=function(){return i.default.close()},e._loadNextArticle=function(t){e.prepare(t,function(t,n){e._initArticleView(n,t)})},e._restoreScroll=function(t){var n=e._getSavedScroll(t.url);e.setScrollTop(n)},e._deinitLayer=function(){W.forEach(function(t){var n=e.getScrollNode();n&&n.removeEventListener("scroll",t)}),W.splice(0,W.length)},e._removeAllViews=function(){V.forEach(function(e){e.deinit()}),V.splice(0,V.length),Y.viewsList&&(Y.viewsList.innerHTML=""),Q={}},e.show=function(t,n,r,i){if(!isArray(t)||0!=t.length){if(R=n,void 0!==i&&(F=i),r&&(boxRefreshCoords(boxLoader),u(boxLoader),u(boxLayerWrap)),e._deinitLayer(),g(t)){var o=t;e._initLayer(),e._initArticleView(o),$=o.raw_id,e._restoreScroll(o),e._initFooter()}else e.setFaded(!0),e.prepare(t,function(t,n){e.setFaded(!1),r&&(s(boxLoader),s(boxLayerWrap)),e._removeAllViews(),e._initLayer(),e._initArticleView(n,t),$=n.raw_id,e._restoreScroll(n),e._initFooter(),n.title&&(G=document.title,f(!1),h(p(v(n.title))),f(!0))});window.FastChat&&window.FastChat.toggleFastChats(!1)}},e.isShown=function(){return!!Y.layer},e.videoOpened=function(){X+=2},e.audioPlaylistOpened=function(){q+=2},e.back=function(){e.isStandalone()?location.href="/feed":history.go(-1)},e.close=function(t){if(!e.isShown())return!0;var n=V.length?V[0].getArticle().owner_href:"";if(e.isStandalone())return window.location.href=n||"/feed",!0;if(e._removeAllViews(),window.onbeforeunload=!1,vk.widget)window.Rpc&&Rpc.callMethod("destroy");else{if(t){e._deinitLayer();var r=-1;window.cur&&cur.articleSequence&&(r=-cur.articleSequence-X-q),history.go(r),cur.articleSequence=0}else d(bodyNode,"body_article_layer"),G&&(f(!1),h(G)),j(Y.layer),Y.layer=!1;K.destroy(),FastChat.toggleFastChats(!0),z&&window.removeEventListener("beforeunload",z),z=!1}},e.getScrollNode=function(){return e.isStandalone()?window:Y.layer},e.getScrollTop=function(){return e.isStandalone()?window.scrollNode.scrollTop:Y.layer.scrollTop},e.setScrollTop=function(t){(e.isStandalone()?window.scrollNode:Y.layer).scrollTop=t},e._initLayer=function(){if(!Y.layer){if(Y.layer=T("_article_layer"),!Y.layer){if(!I)throw new Error("Article layer html not found");Y.layer=m(I),document.body.appendChild(Y.layer),A(bodyNode,"body_article_layer"),O(Y.layer,{opacity:1})}Y.up=T("article_layer__up",Y.layer),Y.darkBtn=T("article_layer__dark",Y.layer),Y.closeBtn=T("article_layer__close",Y.layer),Y.placeholderCloseBtn=T("article_layer_placeholder__back_button",Y.layer),Y.viewsList=T("article_layer__views",Y.layer),Z&&Y.darkBtn.removeEventListener("click",Z),Y.darkBtn.addEventListener("click",Z=e._toggleDarkMode),J&&Y.closeBtn.removeEventListener("click",J),Y.closeBtn.addEventListener("click",J=e.close.bind(null,!0)),vk.widget&&j(Y.up),Y.placeholderCloseBtn&&(ee&&Y.placeholderCloseBtn.removeEventListener("click",ee),Y.placeholderCloseBtn.addEventListener("click",ee=e.close.bind(null,!0))),Y.scrollNode=vk.widget||!e.isStandalone()?Y.layer:document.scrollingElement,e.isStandalone()||(z&&window.removeEventListener("beforeunload",z),window.addEventListener("beforeunload",z=function(){window.scrollTo(0,0)})),e.getScrollNode().addEventListener("scroll",function(e){W.forEach(function(t){t(e)})},{passive:!0}),W.push(function(){E(Y.up,"article_layer__up--shown",e.getScrollTop()>0)});var t=T("article_layer__inner",Y.layer);U=m("<div class='article_anchor_tooltip_content'>"+getLang("pages_article_anchor_copy")+"</div>"),K=new ElementTooltip(Y.layer,{content:U,autoShow:!1,customShow:!0,forceSide:"top",cls:"article_anchor_tooltip",noBorder:!0,onHide:function(){U.innerHTML=getLang("pages_article_anchor_copy")}}),Y.layer.addEventListener("mousemove",function(n){if(E(Y.layer,"article_layer__hover_left",t.contains(n.target)&&n.pageX<115),N(n.target,"article_anchor_button")&&K&&!K.isShown()){var r=n.target.getBoundingClientRect(),i=r.top,o=r.left;K.show();var a=K._ttel.getBoundingClientRect(),c=e.getScrollTop();O(K._ttel,{top:i+c-a.height-5,left:o-a.width/2+13}),n.target.addEventListener("mouseout",function(){K.hide()})}}),Y.layer.addEventListener("click",function(t){if(N(Y.layer,"article_layer__hover_left")&&(N(Y.up,"article_layer__up--shown")?e.setScrollTop(0):e.back()),N(t.target,"article_anchor_button")&&t.target.id){var n=C("article_view",t.target),r=k(n,"article-url"),i=location.protocol+"//"+location.host+r;D("h1",t.target)?Object(a.copyToClipboard)(i):Object(a.copyToClipboard)(i+"?anchor="+t.target.id),U.innerHTML=getLang("pages_article_anchor_copied")}N(Y.layer,"article_layer__hover_right")&&e.close(!0)})}},e._initFooter=function(){if(vk.id){var t,n={Static:"static",FixedShown:"fix_shown",FixedHidden:"fix_hidden"},r=void 0,i=!1,o=void 0,a=e.getScrollTop(),c=!0;W.push(t=function(){$||($=V[0].getArticle().raw_id);var t=x("article_view_"+$),r=C("article_layer__content",t),l=T("article_layer__content_footer",r);if(r&&l){var s=e.getScrollTop(),d=s<=a;a=s,i!=l&&(o=r.offsetTop+l.offsetTop,u(i,n.Static)),i=l;var f=s+window.innerHeight<o-100;u(l,f?!f||d?n.FixedShown:n.FixedHidden:n.Static,c),c=!1}}),t()}function l(e,t){O(e,"transform","translateY("+(t?"0%":"100%"))}function u(e,t,i){var o=k(e,"state")||n.Static;o!=t&&(r||(o==n.Static?t==n.FixedShown?(l(e,!1),i?(A(e,"article_layer__content_footer--fix"),l(e,!0)):r=setTimeout(function(){A(e,"article_layer__content_footer--fix"),r=setTimeout(function(){l(e,!0),r=!1})})):t==n.FixedHidden&&(l(e,!1),r=setTimeout(function(){A(e,"article_layer__content_footer--fix"),r=!1})):o==n.FixedShown?t==n.FixedHidden?l(e,!1):t==n.Static&&(l(e,!1),r=setTimeout(function(){d(e,"article_layer__content_footer--fix"),l(e,!0),r=!1},350)):o==n.FixedHidden&&(t==n.FixedShown?l(e,!0):t==n.Static&&(d(e,"article_layer__content_footer--fix"),l(e,!0))),k(e,"state",t)))}},e.onShareBtnClick=function(e,t,n){showBox("like.php",{act:"publish_box",object:"article"+t+":"+n},{stat:["page.js","page.css","wide_dd.js","wide_dd.css","sharebox.js"],onFail:function(e){return showDoneBox(e),!0}})},e.onFaveBtnClick=function(e,t,n,r,i,o){var a=C("article_layer__content",domQuery1('[data-article-url="'+i+'"]')),c=!1;each(L("article_layer__content_footer_button_bookmark",a),function(e,t){c=E(t,"activated")}),l(t,n,"article",o,!c)},e.onReportBtnClick=function(t,n,r,i){var o=showBox("al_articles.php",{act:"report_box"},{onDone:function(){var e=L("radiobtn","article_report");radioBtns.article_report={val:0,els:e}},params:{onClean:function(){delete radioBtns.article_report}}});o.removeButtons(),o.addButton(getLang("box_send"),function(t){e._sendReport(t,n,r,i)}),o.addButton(getLang("global_cancel"),!1,"no")},e._sendReport=function(e,t,n,r){P.post("al_articles.php",{act:"report",owner_id:t,article_id:n,hash:r,reason:radioBtns.article_report.val},{onDone:function(){curBox().hide(),showDoneBox(getLang("pages_article_report_sent"),{className:"article_done_msg",parentEl:"_article_layer"})},showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e)})},e._getSavedScroll=function(e){return(window.ls.get("articles_scrolls")||{})[e]||0},e._updateScrollSet=function(t){var n=e.getScrollTop(),r=ls.get("articles_scrolls")||{};Object.keys(r).length>100&&(r={}),r[t.url]=n,ls.set("articles_scrolls",r)},e.getDarkMode=function(){return!!M(localStorage.getItem("article_dark_mode"))},e._toggleDarkMode=function(t,n){var r=E(Y.layer,"article_dark",n);e.isStandalone()&&E(document.body,"article_dark",r),n?E(Y.layerSubscribeBtn,"black",r):(A(Y.layerSubscribeBtn,"article_layer_btn_transition"),setTimeout(function(){d(Y.layerSubscribeBtn,"article_layer_btn_transition")},450),y(Y.layerSubscribeBtn,"black",r)),void 0===n&&vk.id&&P.post("al_articles.php",{act:"set_dark_mode",is_on:M(r)}),localStorage.setItem("article_dark_mode",M(r))},e.clearPrepared=function(e){e=e.replace(/^\//,""),delete B[e]},e.prepare=function(t,n){if(n||(n=function(){}),g(t)&&(t=t.url),t=t.replace(/^\//,""),g(B[t]))return n.apply(null,B[t].result);if(B[t]=B[t]||[],B[t].push(n),!(B[t].length>1)){var r=_(cur.module,["groups","profile","public"])?cur.oid:"";P.post("al_articles.php",{act:"view",url:t,layer:1,wall_owner_id:r,from_bookmarks:M("bookmarks"==cur.module)},{onDone:function(e,n,r,i){var o=B[t]||[];I=e,F=i,B[t]={result:[n,r]},o.forEach(function(e){return e.apply(null,B[t].result)})}}),window.cur&&cur.destroy.push(function(){e.clearPrepared()})}},e.clearPrepared=function(){B={}},e.onSubscribeBtnClick=function(e){if(!w(e)){var t=JSON.parse(k(e,"data")),n=N(e,"secondary"),r={showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e),onDone:function(){H[t.oid]=!n,E(e,"secondary"),t.confirm&&n&&s(e)}};if(t.oid>0)P.post("al_friends.php",{act:n?"remove":"add",mid:t.oid,hash:t.hash},r);else{var i=P.post.pbind("al_groups.php",{act:n?"a_leave":"a_enter",gid:-t.oid,hash:t.hash},r);if(t.confirm&&n)var o=showFastBox(t.confirm.title,t.confirm.text,t.confirm.btn,function(){o.hide(),i()},getLang("global_cancel"));else i()}}},e.moderActionsInit=function(e,t){var n=e.moder_actions_hash,r=domQuery1("#article_moder_rev_sel",t);r&&r.addEventListener("change",function(e){S.change({rev:e.target.value}),location.reload()});var i=domQuery1("#article_moder__rev_restore",t);i&&i.addEventListener("click",function(){r.value&&P.post("al_articles.php",{act:"moder_restore_article_rev",hash:n,article_owner_id:e.owner_id,article_id:e.id,revision:M(r.value)},{showProgress:lockButton.pbind(i),onDone:function(){S.change({rev:!1}),location.reload()}})});var o=domQuery1("#article_moder__ban_btn",t);if(o){var a=M(o.getAttribute("data-banned"))?0:1;o.addEventListener("click",function(){P.post("al_articles.php",{act:"moder_ban_article",hash:n,article_owner_id:e.owner_id,article_id:e.id,do_ban:M(a)},{showProgress:lockButton.pbind(o),onDone:function(){location.reload()}})})}},e}();window.ArticleLayer=te},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],s=!1,d=-1;function f(){s&&l&&(s=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!s){var e=c(f);s=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||s||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(19),o=n(5),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var c=window,l=c.geByTag,u=c.geByTag1,s=c.each,d=c.removeClass,f=c.intval,h=c.toggleClass,p=c.domData,v=c.domQuery1,g=c.getW,w=c.getXY,m=c.getH,_=c.geByClass,y=c.ge,b={},S=void 0,C=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._article=t,this._options=n,this._readTO=null,this._scrollStatEvent=!1,this._els={view:y("article_view_"+t.raw_id)},window.cur&&cur.destroy&&cur.destroy.push(function(){i.deinit()}),window.cur&&cur.destroy.push(function(){i.deinit()}),window.addEventListener("VKWebAppEvent",function(e){if(e&&e.detail&&void 0!==e.detail.index){var t=e.detail.index;if(S){var n=b[p(S,"id")];n&&n(t)}}}),r&&this.ready()}return e.prototype.getEl=function(){return this._els.view},e.prototype.getArticle=function(){return this._article},e.prototype.getScrollNode=function(){return this._options.getScrollNode?this._options.getScrollNode():window},e.prototype._getScrollTop=function(){return this._options.getScrollTop?this._options.getScrollTop():window.scrollNode?window.scrollNode.scrollTop:window.document.documentElement.scrollTop},e.prototype.deinit=function(){this._scrollEvent&&(this.getScrollNode().removeEventListener("scroll",this._scrollEvent),this._scrollEvent=!1),this._scrollStatEvent&&(this.getScrollNode().removeEventListener("scroll",this._scrollStatEvent),this._scrollStatEvent=!1),clearTimeout(this._readTO)},e.prototype._onViewScroll=function(){var e=this,t=this._options.mobile?scrollGetY():window.scrollNode.scrollTop,n=window.innerHeight;s(l("figure",this._els.view),function(r,i){var o=f(p(i,"done"));if(!o){var a=m(i),c=w(i)[1],l=f(p(i,"type")),u=101==l?-200:100,s=c<=t+n-u&&t+u<=c+a;(o=e._onObjectView(s,l,i))&&p(i,"done",1)}})},e.prototype._initObjects=function(){var e=this;this._initedObjects=this._initedObjects||{},s(_("_article_unmute_button",this._els.view),function(t,n){e._initedObjects[t]||(e._initedObjects[t]=!0,n.addEventListener("click",function(){var e=n.parentNode,t=u("video",e);t.muted=!t.muted,h(e,"article_object_unmuted",!t.muted)}))});var t={};s(l("figure",this._els.view),function(n,r){if(!e._initedObjects[n]&&(e._initedObjects[n]=!0,parseInt(p(r,"type"))==i.ParagraphType.ObjectPhoto)){var a=Object(o.initPhotoCarousel)(r,e._options),c=e._initPhoto(r);void 0!==c&&(t[c]=a)}})},e.prototype._initPhoto=function(e){var t=this;geByClass1("article_figure_content",e).addEventListener("click",function(){var n=v("[data-sizes]",e),r=JSON.parse(p(n,"sizes")),i=f(p(e,"photo-carousel-index"));t._options.onImageOpen&&t._options.onImageOpen.call(t,r,e,i)})},e.prototype._initStats=function(){if(this._statsInited)this._scrollStatEvent&&this._scrollStatEvent();else{this._statsInited=!0;var e=Date.now(),t=-1,n=void 0,r=[];this._scrollStatEvent&&this.getScrollNode().removeEventListener("scroll",this._scrollStatEvent),clearTimeout(this._readTO);var i=this;this.getScrollNode().addEventListener("scroll",this._scrollStatEvent=function(){var e=i.getCurrentScrollRatio();if(!(e<0)){var c=1;e>=.95?c=4:e>.66?c=3:e>.33&&(c=2),function(e){if(i._isReady&&(i._article.has_more&&(e=Math.min(e,1)),!(t>=e))){for(var c=t+1;c<=e;c++)r.push(c);if(t=e,clearTimeout(n),n=setTimeout(a,300),3==e&&i._article.ttr){var l=i._article.ttr-o();l>0&&(i._readTO=setTimeout(function(){if(!document.hidden){var e=i.getCurrentScrollRatio();if(!(e<0||e>1.3)){var n=4==t;r=[t=4],a(n)}}},1e3*l))}}}(c),4!=c||i._article.has_more||(i.getScrollNode().removeEventListener("scroll",i._scrollStatEvent),i._scrollStatEvent=!1)}},{passive:!0}),this._scrollStatEvent&&this._scrollStatEvent()}function o(){return Math.round((Date.now()-e)/1e3)}function a(e){if(r.length){var t=i._article,n=i._options,a={act:"stats",scroll:r.join(","),spent:o(),hash:t.access_hash,article_owner_id:t.owner_id,article_id:t.id,is_web_view:n.isWebView?1:0,post_id:n.sourcePostId,ref:window.cur?window.cur.module:"",is_widget:n.isWidget,is_delayed_scroll_4:f(e)};ajax.post(n.mobile?"article.php":"al_articles.php",a),r=[]}}},e.prototype._initGoogleAnalytics=function(){var e=this._options.googleAnalyticsId;if(e)if(window.dataLayer=window.dataLayer||[],window.gtag)gtag("config",e,{page_location:window.location.href});else{var t=document.createElement("script");t.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+e),t.setAttribute("async","true"),document.head.appendChild(t),window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config",e)}},e.prototype._onObjectView=function(e,t,n){var o=!1;switch(t){case i.ParagraphType.ObjectPhoto:if(e){var c=u("img",n),l=g(c)||this._options.width,s=p(c,"baseurl");if(s)s=Object(r.imageProxyURL)(s,{size:l}),Object(i.preloadImage)(s,function(){d(c,"article_object_photo__image_blur"),c.src=s});else{var f=v("[data-sizes]",n),h=JSON.parse(p(f,"sizes"));h.forEach(function(e,t){if(!(t>3)){var n=Object(i.getAppropriateImage)(h[t],l,!0),r=a(n,1)[0];Object(i.preloadImage)(r,function(){0==t&&(d(c,"article_object_photo__image_blur"),c.src=r)})}})}o=!0}break;case i.ParagraphType.ObjectGIF:if(!this._options.mobile){var w=u("video",n);if(w)if(e){if(w.hasAttribute("autoplay")){var m=w.play();m&&m.catch(function(){})}}else w.pause();else o=!0}}return o},e.prototype.getCurrentScrollRatio=function(){var e=m(this._els.view),t=w(this._els.view)[1]-w(this.getScrollNode().firstElementChild)[1];return(this._getScrollTop()+window.innerHeight-t)/e},e.prototype.getScreenVisibilityRatio=function(){var e=m(this._els.view),t=w(this._els.view)[1]-w(this.getScrollNode().firstElementChild)[1],n=this._getScrollTop(),r=window.innerHeight,i=t,o=t+e,a=n,c=n+r;if(a>o||i>c)return 0;var l=Math.max(i,a);return(Math.min(o,c)-l)/r},e.prototype.update=function(){this._initObjects(),this._initStats(),this._options.onScroll&&this._options.onScroll.call(this,this.getCurrentScrollRatio())},e.prototype.ready=function(){var e=this;this._isReady=!0,this._initObjects(),this._initStats(),this._initGoogleAnalytics();var t=Object(i.getUrlParam)("anchor");(t&&setTimeout(function(){e._options.isWebView||e.scrollToAnchor(t);var n=e.getScrollNode();n.click&&n.click(),n.focus()},10),!this._options.mobile&&window.AudioPlaylist)&&(this._article.audios_list&&this._article.audios_list.length>0&&new AudioPlaylist(AudioPlaylist.TYPE_TEMP,this._article.owner_id,"article_"+this._article.id).mergeWith({list:this._article.audios_list}));this.getScrollNode().addEventListener("scroll",this._scrollEvent=function(){e._onViewScroll(),e._options.onScroll&&e._options.onScroll.call(e,e.getCurrentScrollRatio())},{passive:!0}),setTimeout(function(){return e._scrollEvent()})},e.prototype.scrollToAnchor=function(e){e=e||Object(i.getUrlParam)("anchor");var t=this.getScrollNode(),n=this._options;e&&function(){var r=document.getElementById(e);if(r){"scrollRestoration"in history&&(history.scrollRestoration="manual");var i=n.isWebView?0:25,o=r.parentNode.parentNode.offsetTop-i;window.setTimeout(function(){browser.msie&&!t.scrollTo?t.scrollTop=o:t.scrollTo(0,o)},0)}}()},e}();t.default=C},function(e,t,n){"use strict";function r(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function i(e){return r(new Date(e.getTime()+864e5))}function o(e){return r(new Date(e.getTime()-864e5))}function a(e,t){var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function c(e){return e>=10?e:"0"+e}function l(e,t){var n=void 0;e=Math.max(e,0);var r=Math.floor(e%60);n=r<10?"0"+r:r;var i=(e=Math.floor(e/60))%60;return n=i+":"+n,((e=Math.floor(e/60))>0||t)&&(i<10&&(n="0"+n),n=e+":"+n),n}n.r(t),n.d(t,"isToday",function(){return r}),n.d(t,"isYesterday",function(){return i}),n.d(t,"isTomorrow",function(){return o}),n.d(t,"isSameDate",function(){return a}),n.d(t,"leadingZero",function(){return c}),n.d(t,"formatTime",function(){return l})},function(e,t,n){(function(r,i){var o;(function(){"use strict";function a(e){return"function"==typeof e}var c,l,u=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=0,d=function(e,t){C[s]=e,C[s+1]=t,2===(s+=2)&&(l?l(T):m())};var f="undefined"!=typeof window?window:void 0,h=f||{},p=h.MutationObserver||h.WebKitMutationObserver,v=void 0!==r&&"[object process]"==={}.toString.call(r),g="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function w(){return function(){setTimeout(T,1)}}var m,_,y,b,S,C=new Array(1e3);function T(){for(var e=0;e<s;e+=2){(0,C[e])(C[e+1]),C[e]=void 0,C[e+1]=void 0}s=0}v?m=function(){r.nextTick(T)}:p?(y=0,b=new p(T),S=document.createTextNode(""),b.observe(S,{characterData:!0}),m=function(){S.data=y=++y%2}):g?((_=new MessageChannel).port1.onmessage=T,m=function(){_.port2.postMessage(0)}):m=void 0===f?function(){try{var e=n(6);return c=e.runOnLoop||e.runOnContext,function(){c(T)}}catch(e){return w()}}():w();var E=function(e,t){var n=this._state;if(n===k&&!e||n===A&&!t)return this;var r=new this.constructor(j),i=this._result;if(n){var o=arguments[n-1];d(function(){W(n,r,o,i)})}else I(this,r,e,t);return r};var O=function(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(j);return M(t,e),t};function j(){}var x=void 0,k=1,A=2,L=new F;function D(e){try{return e.then}catch(e){return L.error=e,L}}function N(e,t,n){t.constructor===e.constructor&&n===E&&constructor.resolve===O?function(e,t){t._state===k?B(e,t._result):t._state===A?H(e,t._result):I(t,void 0,function(t){M(e,t)},function(t){H(e,t)})}(e,t):n===L?H(e,L.error):void 0===n?B(e,t):a(n)?function(e,t,n){d(function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?M(e,n):B(e,n))},function(t){r||(r=!0,H(e,t))},e._label);!r&&i&&(r=!0,H(e,i))},e)}(e,t,n):B(e,t)}function M(e,t){var n;e===t?H(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?N(e,t,D(t)):B(e,t)}function P(e){e._onerror&&e._onerror(e._result),R(e)}function B(e,t){e._state===x&&(e._result=t,e._state=k,0!==e._subscribers.length&&d(R,e))}function H(e,t){e._state===x&&(e._state=A,e._result=t,d(P,e))}function I(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+k]=n,i[o+A]=r,0===o&&e._state&&d(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?W(n,r,i,o):i(o);e._subscribers.length=0}}function F(){this.error=null}var Y=new F;function W(e,t,n,r){var i,o,c,l,u=a(n);if(u){if((i=function(e,t){try{return e(t)}catch(e){return Y.error=e,Y}}(n,r))===Y?(l=!0,o=i.error,i=null):c=!0,t===i)return void H(t,new TypeError("A promises callback cannot return that same promise."))}else i=r,c=!0;t._state!==x||(u&&c?M(t,i):l?H(t,o):e===k?B(t,i):e===A&&H(t,i))}var z=function(e){return new G(this,e).promise};var V=function(e){var t=new this(j);if(!u(e))return H(t,new TypeError("You must pass an array to race.")),t;var n=e.length;function r(e){M(t,e)}function i(e){H(t,e)}for(var o=0;t._state===x&&o<n;o++)I(this.resolve(e[o]),void 0,r,i);return t};var U=function(e){var t=new this(j);return H(t,e),t},K=0;var X=q;function q(e){this._id=K++,this._state=void 0,this._result=void 0,this._subscribers=[],j!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof q?function(e,t){try{t(function(t){M(e,t)},function(t){H(e,t)})}catch(t){H(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}q.all=z,q.race=V,q.resolve=O,q.reject=U,q._setScheduler=function(e){l=e},q._setAsap=function(e){d=e},q._asap=d,q.prototype={constructor:q,then:E,catch:function(e){return this.then(null,e)}};var G=$;function $(e,t){this._instanceConstructor=e,this.promise=new e(j),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&B(this.promise,this._result))):H(this.promise,this._validationError())}$.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},$.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===x&&n<e;n++)this._eachEntry(t[n],n)},$.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===O){var i=D(e);if(i===E&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===X){var o=new n(j);N(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},$.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===x&&(this._remaining--,e===A?H(r,n):this._result[t]=n),0===this._remaining&&B(r,this._result)},$.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){n._settledAt(k,t,e)},function(e){n._settledAt(A,t,e)})};var Q=function(){var e;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=X)},Z={Promise:X,polyfill:Q};void 0===(o=function(){return Z}.call(t,n,t,e))||(e.exports=o),Q()}).call(this)}).call(this,n(8),n(17))},function(e,t,n){"use strict";n.r(t),n.d(t,"KEY",function(){return o}),n.d(t,"addEvent",function(){return a}),n.d(t,"removeEvent",function(){return c}),n.d(t,"triggerEvent",function(){return l}),n.d(t,"cancelEvent",function(){return u}),n.d(t,"stopEvent",function(){return s}),n.d(t,"normEvent",function(){return d}),n.d(t,"checkEvent",function(){return f}),n.d(t,"checkKeyboardEvent",function(){return h}),n.d(t,"checkOver",function(){return p});var r=n(4),i=n(14),o={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16};function a(e,t,n,o,a,c){if((e=Object(r.ge)(e))&&3!=e.nodeType&&8!=e.nodeType){var l,s=a?((l=function(e){var t=e.data;e.data=a;var r=n.apply(this,[e]);return e.data=t,r}).handler=n,l):n;e.setInterval&&e!==window&&(e=window);var f=Object(r.data)(e,"events")||Object(r.data)(e,"events",{}),h=Object(r.data)(e,"handle")||Object(r.data)(e,"handle",function(e){return function(){(function(e){e=d(e);var t=Array.from(arguments);t[0]=e;var n=Object(r.data)(this,"events");if(!n||"string"!=typeof e.type||!n[e.type]||!n[e.type].length)return;var i=(n[e.type]||[]).slice();for(var o in i)if(i.hasOwnProperty(o)){if("mouseover"===e.type||"mouseout"===e.type){for(var a=e.relatedElement;a&&a!==this;)a=a.parentNode;if(a===this)continue}var c=i[o].apply(this,t);if(!1!==c&&-1!==c||u(e),-1===c)return!1}}).apply(e,arguments)}}(e));Object(i.each)(t.split(/\s+/),function(t,n){f[n]||(f[n]=[],!o&&e.addEventListener?e.addEventListener(n,h,c):!o&&e.attachEvent&&e.attachEvent("on"+n,h)),f[n].push(s)})}}function c(e,t,n,o){if(void 0===o&&(o=!1),e=Object(r.ge)(e)){var a=Object(r.data)(e,"events");if(a)if("string"==typeof t)Object(i.each)(t.split(/\s+/),function(t,c){if(Object(i.isArray)(a[c])){var l=a[c].length;if(Object(i.isFunction)(n)){for(var u=l-1;u>=0;u--)if(a[c][u]&&(a[c][u]===n||a[c][u].handler===n)){a[c].splice(u,1),l--;break}}else{for(var s=0;s<l;s++)delete a[c][s];l=0}l||(e.removeEventListener?e.removeEventListener(c,Object(r.data)(e,"handle"),o):e.detachEvent&&e.detachEvent("on"+c,Object(r.data)(e,"handle")),delete a[c])}}),Object(i.isEmpty)(a)&&(Object(r.removeData)(e,"events"),Object(r.removeData)(e,"handle"));else for(var l in a)a.hasOwnProperty(l)&&c(e,l)}}function l(e,t,n,o){e=Object(r.ge)(e);var a=Object(r.data)(e,"handle");if(a){var c=function(){return a.call(e,Object(i.extend)(n||{},{type:t,target:e}))};o?c():setTimeout(c,0)}}function u(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function s(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function d(e){var t=e=e||window.event;if((e=Object(i.clone)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){var n=document.documentElement,r=bodyNode;e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function f(e){var t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||browser.mac&&t.metaKey)||!1}function h(e){if(!(e=d(e))||!e.target)return!1;if(!e.screenX)return!0;var t=Object(r.getSize)(e.target),n=Object(r.getXY)(e.target),i=e.pageX-n[0],o=e.pageY-n[1];return i<-1||i>t[0]+1||o<-1||o>t[1]+1||Math.abs(e.pageX-n[0]-t[0]/2)<1&&Math.abs(e.pageY-n[1]-t[1]/2)<1}function p(e,t){if(!e)return!0;e=e.originalEvent||e,t=t||e.target;var n=e.fromElement||e.relatedTarget;if(!n||n===t||n===t.parentNode)return!0;for(;n!==t&&n.parentNode&&n.parentNode!==bodyNode;)n=n.parentNode;return n!==t}window.KEY=o,window.addEvent=a,window.removeEvent=c,window.triggerEvent=l,window.cancelEvent=u,window.stopEvent=s,window.normEvent=d,window.checkEvent=f,window.checkKeyboardEvent=h,window.checkOver=p},function(e,t,n){"use strict";n.r(t);var r=window,i=r.intval,o=r.domData,a=r.isEmpty,c=r.isArray,l=r.setStyle,u=r.ce,s=[],d=void 0,f=!1,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.init=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(f=n.mobile||n.isWebView,t&&e.ads&&!a(e.ads)&&!(e.has_more||c(e.ads)&&0==e.ads.length)){var r=u("ins");addClass(r,"mrg-tag"),addClass(r,"article_adsblock"),n.mobile&&addClass(r,"article_adsblock_mobile"),l(r,{display:"block","text-decoration":"none"});var i="";for(var s in n.deviceInfo)n.deviceInfo.hasOwnProperty(s)&&(i+="&"+s+"="+n.deviceInfo[s]);for(var d in e.ads.data["ad-query"]=e.ads.data["ad-query"].replace("%device_info%",i),e.ads.data)e.ads.data.hasOwnProperty(d)&&o(r,d,""+e.ads.data[d]);t.appendChild(r),window.MRGtag||(window.MRGtag=[]);var h=n.isWebView?{iframeMode:!0}:{},v=e.ads.eventsHash;if(p(e,n,"requested",v),h.onNoAds=function(){p(e,n,"no_ads",v)},h.onAdsLoaded=function(){p(e,n,"ads_loaded",v)},h.onAdsClosed=function(){p(e,n,"ads_closed",v)},h.onAdsSuccess=function(){p(e,n,"ads_success",v)},h.onAdsClicked=function(){p(e,n,"ads_clicked",v)},h.onScriptError=function(){p(e,n,"script_error",v)},window.MRGtagOnAdsImpression=function(){p(e,n,"ads_impression",v)},window.MRGtag.push(h),!window.mailRuSdsScriptLoaded){var g=document.createElement("script");g.setAttribute("src",e.ads.script),g.setAttribute("async","true"),document.head.appendChild(g),window.mailRuSdsScriptLoaded=!0}}},e.wasShown=function(){return!1},e}();function p(e,t,n,r){s.push(n+"/"+e.owner_id+"_"+e.id+"/"+r),clearTimeout(d),d=setTimeout(function(){var e=f?"article.php":"al_articles.php";ajax.post(e,{act:"ads_event",events:s.join(","),is_web_view:i(t.isWebView)}),s=[]},200)}t.default=h},function(e,t,n){"use strict";n.r(t),n.d(t,"vkLocal",function(){return c}),n.d(t,"lTimeout",function(){return l}),n.d(t,"rand",function(){return u}),n.d(t,"irand",function(){return s}),n.d(t,"isUndefined",function(){return d}),n.d(t,"isFunction",function(){return f}),n.d(t,"isArray",function(){return h}),n.d(t,"isString",function(){return p}),n.d(t,"isObject",function(){return v}),n.d(t,"isEmpty",function(){return g}),n.d(t,"vkNow",function(){return w}),n.d(t,"vkImage",function(){return m}),n.d(t,"trim",function(){return _}),n.d(t,"stripHTML",function(){return y}),n.d(t,"escapeRE",function(){return b}),n.d(t,"intval",function(){return S}),n.d(t,"floatval",function(){return C}),n.d(t,"positive",function(){return T}),n.d(t,"isNumeric",function(){return E}),n.d(t,"winToUtf",function(){return O}),n.d(t,"replaceEntities",function(){return j}),n.d(t,"clean",function(){return x}),n.d(t,"unclean",function(){return k}),n.d(t,"each",function(){return A}),n.d(t,"indexOf",function(){return L}),n.d(t,"inArray",function(){return D}),n.d(t,"clone",function(){return N}),n.d(t,"arrayKeyDiff",function(){return M}),n.d(t,"extend",function(){return P}),n.d(t,"addTemplates",function(){return B}),n.d(t,"getTemplate",function(){return H}),n.d(t,"serializeForm",function(){return I}),n.d(t,"extractUrls",function(){return R}),n.d(t,"isRetina",function(){return F}),n.d(t,"getCaretCharacterOffsetWithin",function(){return Y}),n.d(t,"formatCount",function(){return W}),n.d(t,"encodeHtml",function(){return U}),n.d(t,"decodeHtml",function(){return K});var r=n(4),i=n(16),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e){var t=PageID;return function(){t===PageID&&e.apply(this,arguments)}}function l(e,t){return setTimeout(c(e),t)}window.PageID=window.PageID||1;var u=function(e,t){return Math.random()*(t-e+1)+e},s=function(e,t){return Math.floor(u(e,t))},d=function(e){return void 0===e},f=function(e){return e&&"[object Function]"===Object.prototype.toString.call(e)},h=function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=function(e){return"string"==typeof e},v=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function g(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var w=function(){return+new Date},m=function(){return window.Image?new Image:ce("img")},_=function(e){return(e||"").replace(/^\s+|\s+$/g,"")},y=function(e){return e?e.replace(/<(?:.|\s)*?>/g,""):""},b=function(e){return e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""};function S(e){return!0===e?1:parseInt(e)||0}function C(e){return!0===e?1:parseFloat(e)||0}function T(e){return(e=S(e))<0?0:e}function E(e){return!isNaN(e)}function O(e){return e.replace(/&#(\d\d+);/g,function(e,t){return(t=S(t))>=32?String.fromCharCode(t):e}).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function j(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return Object(r.se)("<textarea>"+e+"</textarea>").value}function x(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function k(e){return j(e.replace(/\t/g,"\n"))}function A(e,t){if(v(e)||void 0===e.length){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,i=e.length;r<i;r++){var o=e[r];if(!1===t.call(o,r,o))break}return e}function L(e,t,n){for(var r=n||0,i=(e||[]).length;r<i;r++)if(e[r]==t)return r;return-1}function D(e,t){return-1!==L(t,e)}function N(e,t){var n=v(e)||void 0===e.length?{}:[];for(var r in e)(!/webkit/i.test(_ua)||"layerX"!=r&&"layerY"!=r&&"webkitMovementX"!=r&&"webkitMovementY"!=r)&&(t&&"object"===a(e[r])&&"prototype"!==r&&null!==e[r]?n[r]=N(e[r]):n[r]=e[r]);return n}function M(e){var t={},n=arguments.length,r=arguments;for(var i in e)if(e.hasOwnProperty(i)){for(var o=!1,a=1;a<n;a++)r[a][i]&&r[a][i]===e[i]&&(o=!0);o||(t[i]=e[i])}return t}function P(){var e=arguments,t=e.length,n=e[0]||{},r=1,i=!1;for("boolean"==typeof n&&(i=n,n=e[1]||{},r=2),"object"===(void 0===n?"undefined":a(n))||f(n)||(n={});r<t;r++){var o=e[r];if(null!=o)for(var c in o)if(o.hasOwnProperty(c)){var l=n[c],u=o[c];n!==u&&(i&&u&&"object"===(void 0===u?"undefined":a(u))&&!u.nodeType?n[c]=P(i,l||(null!=u.length?[]:{}),u):void 0!==u&&(n[c]=u))}}return n}function B(e){window.templates=window.templates||{},P(window.templates,e)}function H(e,t){var n=(window.templates=window.templates||{})[e];return"function"==typeof n&&(n=n()),n&&t?Object(r.rs)(n,t):n||""}function I(e){if("object"!==(void 0===e?"undefined":a(e)))return!1;var t={},n=function(t){return Object(r.geByTag)(t,e)},i=function(n,i){if(i.name)if("text"!==i.type&&i.type)if(i.getAttribute("bool")){var o=Object(r.val)(i);if(!o||"0"===o)return;t[i.name]=1}else t[i.name]=browser.msie&&!i.value&&e[i.name]?e[i.name].value:i.value;else t[i.name]=Object(r.val)(i)};return A(n("input"),function(e,t){if("radio"!==t.type&&"checkbox"!==t.type||t.checked)return i(0,t)}),A(n("select"),i),A(n("textarea"),i),t}function R(e,t){for(var n=t?/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,9}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i:/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,9}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i,r=void 0,i=[];e&&(r=e.match(n));){e=e.substr(r.index+r[0].length);var o=0;r[4]||(o=7),i.push({url:r[2+o],query:r[5+o]||"",domain:r[4+o]})}return i}var F=function(){return window.devicePixelRatio>=2};function Y(e){var t=0,n=0,r=e.ownerDocument||e.document,i=r.defaultView||r.parentWindow;if(i.getSelection().rangeCount>0){var o=i.getSelection().getRangeAt(0),a=o.cloneRange();a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),t=a.toString().length,a.setEnd(o.endContainer,o.endOffset),n=a.toString().length}return[t,n]}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.kLimit||1e3;return e>=(t.mLimit||1e6)&&!t.noCheck?W(e=(e=S(e/1e5))>1e3?S(e/10):e/10,P(t,{noCheck:!0}),!0)+"M":e>=n&&!t.noCheck?W(e=(e=S(e/100))>100?S(e/10):e/10,P(t,{noCheck:!0}),!0)+"K":Object(i.langNumeric)(e,"%s",!0).replace(/,/g,".")}var z,V=o((z=null,[function(e){return z||(z=Object(r.se)("<span> </span>")),z.innerText=e,z.innerHTML.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},function(e){return z||(z=Object(r.se)("<span> </span>")),z.innerHTML=e,z.innerText}]),2),U=V[0],K=V[1];window.isRetina=F,window.extractUrls=R,window.serializeForm=I,window.addTemplates=B,window.getTemplate=H,window.rand=u,window.irand=s,window.isUndefined=d,window.isFunction=f,window.isArray=h,window.isString=p,window.isObject=v,window.isEmpty=g,window.vkNow=w,window.vkImage=m,window.trim=_,window.stripHTML=y,window.escapeRE=b,window.intval=S,window.floatval=C,window.positive=T,window.isNumeric=E,window.winToUtf=O,window.replaceEntities=j,window.clean=x,window.unclean=k,window.each=A,window.indexOf=L,window.inArray=D,window.clone=N,window.arrayKeyDiff=M,window.extend=P,window.vkLocal=c,window.lTimeout=l,window.getCaretCharacterOffsetWithin=Y,window.formatCount=W,window.encodeHtml=U,window.decodeHtml=K},function(e,t,n){"use strict";n.r(t);var r=n(19),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=window,a=o.getW,c=o.getH,l=o.geByTag1,u=o.se,s=o.toggleClass,d=o.setStyle,f=o.domClosest,h=o.isNumeric,p=o.re,v=void 0,g=void 0,w=void 0,m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.open=function(t,n,o){var d=Object(r.getAppropriateImage)(t[0],window.innerWidth,!0),h=i(d,3),p=h[0],w=_({width:h[1],height:h[2]},{width:window.innerWidth,height:window.innerHeight}),m=a(o)<w.width&&c(o)<w.height;if(p&&m){var y=u('<div class="article_full_view"><img class="article_full_view__image"></div>'),b=l("figcaption",o);b&&b.innerHTML&&y.appendChild(u('<div class="article_full_view__caption"><div class="article_full_view__caption_inner">'+b.innerHTML+"</div></div>")),g=u('<div class="article_full_view__counter"><div class="article_full_view__counter_text"></div><div class="article_full_view__close"></div></div>'),y.appendChild(g),t.length>1&&s(g,"article_full_view__carousel",t.length>1),geByClass1("_article_layer").appendChild(y),y.addEventListener("click",function(t){f("article_full_view__caption_inner",t.target)||e.close()}),y.addEventListener("mousewheel",e.close),v=y;var S=l("img",y);e._showImage(S,t,n)}},e._showImage=function(e,t,n){(s(void 0,"article_full_view__nav_hidden",0==n),s(void 0,"article_full_view__nav_hidden",n==t.length-1),t.length>1)&&(geByClass1("article_full_view__counter_text",g).innerHTML=getLang("global_article_carousel_counter").replace("{counter}",n+1).replace("{total}",t.length));w=n;var o=!1,a=Object(r.getAppropriateImage)(t[n],window.innerWidth,!0),c=i(a,3),l=c[0],u=_({width:c[1],height:c[2]},{width:window.innerWidth,height:window.innerHeight});if(Object(r.preloadImage)(l,function(){if(w===n){o=!0,u.width&&h(u.width)?d(e,{width:u.width,height:u.height}):d(e,{width:null,height:null}),e.src=l,removeClass(e,"article_full_view__image_blurred");for(var a=n;a<Math.min(n+3,t.length);a++){var c=Object(r.getAppropriateImage)(t[a],window.innerWidth,!0),s=i(c,1)[0];Object(r.preloadImage)(s)}}}))removeClass(e,"article_full_view__image_blurred");else{var f=Object(r.getAppropriateImage)(t[n],200,!0),p=i(f,1)[0];Object(r.preloadImage)(p,function(){w===n&&(o||(d(e,{width:u.width,height:u.height}),e.src=p))}),addClass(e,"article_full_view__image_blurred")}},e.close=function(){return!!v&&(p(v),v=!1,!0)},e}();function _(e,t){var n=e.width/e.height,r={};return n>t.width/t.height?(r.width=Math.min(t.width,e.width),r.height=e.height*(r.width/e.width)):(r.height=Math.min(t.height,e.height),r.width=r.height*n),r}t.default=m},function(e,t,n){"use strict";n.r(t),n.d(t,"parseLatin",function(){return o}),n.d(t,"parseCyr",function(){return a}),n.d(t,"parseLatKeys",function(){return c}),n.d(t,"langNumeric",function(){return l}),n.d(t,"langSex",function(){return u}),n.d(t,"langStr",function(){return s}),n.d(t,"addLangKeys",function(){return d}),n.d(t,"getLang",function(){return f}),n.d(t,"langDate",function(){return h}),n.d(t,"getShortDate",function(){return p}),n.d(t,"getShortDateOrTime",function(){return v}),n.d(t,"langWordNumeric",function(){return g}),n.d(t,"getDateText",function(){return w}),n.d(t,"getBigDateNew",function(){return m}),n.d(t,"getSmDate",function(){return _});var r=n(10),i=n(14);function o(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r=e,i=0,o=t.length;i<o;i++)r=r.split(t[i]).join(n[i]);for(var a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",c=0,l=a.length;c<l;c++)r=r.split(a.charAt(c)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(c));return r===e?null:r}function a(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ",i=e,o=0;o<n.length;o++)i=i.split(n[o]).join(t[o]);for(var a=0;a<r.length;a++)i=i.split(r.charAt(a)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(a));return i===e?null:i}function c(e){for(var t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",n=e,r=0;r<t.length;r++)n=n.split(t.charAt(r)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(r));return n==e?null:n}function l(e,t,n){if(!t||!window.langConfig)return e;var r=void 0;if(Object(i.isArray)(t)?(r=t[1],e!=Math.floor(e)?r=t[langConfig.numRules.float]:Object(i.each)(langConfig.numRules.int,function(n,o){if("*"==o[0])return r=t[o[2]],!1;var a=o[0]?e%o[0]:e;return-1!=Object(i.indexOf)(o[1],a)?(r=t[o[2]],!1):void 0})):r=t,n){for(var o=e.toString().split("."),a=[],c=o[0].length-3;c>-3;c-=3)a.unshift(o[0].slice(c>0?c:0,c+3));o[0]=a.join(langConfig.numDel),e=o.join(langConfig.numDec)}return r=(r||"%s").replace("%s",e)}function u(e,t){if(!Object(i.isArray)(t))return t;var n=t[1];return window.langConfig?(Object(i.each)(langConfig.sexRules,function(r,i){return"*"==i[0]?(n=t[i[1]],!1):e==i[0]&&t[i[1]]?(n=t[i[1]],!1):void 0}),n):n}function s(e){for(var t=arguments,n=t.length,r=e+"",i=1;i<n;i+=2){var o="%"===t[i][0]?t[i]:"{"+t[i]+"}";r=r.replace(o,t[i+1])}return r}function d(e,t){var n=t?window:window.cur;n.lang?Object(i.extend)(n.lang,e):n.lang=e}function f(){try{var e=Array.from(arguments),t=e.shift();if(!t)return"...";var n=window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}return Object(i.isFunction)(n)?n.apply(null,e):void 0===e[0]&&!Object(i.isArray)(n)||"raw"===e[0]?n:l(e[0],n,e[1])}catch(e){debugLog("lang error:"+e.message+"("+Array.from(arguments).join(", ")+")")}}function h(e,t,n,o,a,c){var l=void 0;if(c||(c=""),Object(i.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=n,l=new Date(e)):l=e,a)t=t[1];else{var u="";!(u=Object(r.isToday)(l)?t[3]:Object(r.isYesterday)(l)?t[2]:Object(r.isTomorrow)(l)?t[4]:t[1])&&t[1]&&(u=t[1]),t=u}var s={hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()},d="";switch(3===vk.lang&&(d=l.getHours()>11?"pm":"am",s.hours=l.getHours()%12==0?12:l.getHours()%12),vk.lang){case 1:switch(l.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!Object(r.isToday)(l)||Object(r.isYesterday)(l)||Object(r.isTomorrow)(l)||(t=c+t);break;case 12:case 73:1==l.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(s.year=s.year+543),t.replace("{hour}",s.hours).replace("{num_hour}",Object(r.leadingZero)(s.hours)).replace("{minute}",Object(r.leadingZero)(s.minutes)).replace("{day}",s.day).replace("{num_day}",Object(r.leadingZero)(s.day)).replace("{month}",o[s.month]).replace("{year}",s.year).replace("{short_year}",s.year%100).replace("{second}",Object(r.leadingZero)(s.seconds)).replace("{am_pm}",d)}function p(e,t,n,r,i){e*=1e3,void 0===n&&(n=!0),void 0===r&&(r=f("months_of","raw")),t*=1e3;var o=Date.now(),a=new Date(o),c=new Date(e+t);return!i&&e>o&&e-o<864e5&&a.getDate()===c.getDate()?h(e,"{hour}:{minute} {am_pm}",t,[],!n):c.getYear()!==a.getYear()||e<o-157248e5?h(e,f("global_date","raw"),t,r,!n):h(e,f("global_short_date","raw"),t,r,!n)}function v(e,t,n,i){return Object(r.isToday)(new Date(1e3*e+1e3*t))?h(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):p(e,t,n,i)}function g(e,t,n){return Object(i.isArray)(t)&&e<t.length?t[e]:l(e,n)}function w(e,t){e+=t;var n=parseInt(Date.now()/1e3)-e,r="";if(n<60)r=f("global_just_now");else if(n<3600){r=g(Object(i.intval)(n/60),f("global_word_mins_ago","raw"),f("global_mins_ago","raw"))}else if(n<14400){r=g(Object(i.intval)(n/3600),f("global_word_hours_ago","raw"),f("global_hours_ago","raw"))}else r=m(e,0,!0,"_l");return r}function m(e,t,n,r){void 0===n&&(n=!0),void 0===t&&(t=0),void 0===r&&(r=""),t*=1e3;var i=new Date(1e3*e),o=new Date;return i.getFullYear()!==o.getFullYear()&&i.getTime()<o.getTime()-1728e5||Math.abs(i.getTime()-o.getTime())>157248e5?h(1e3*e,f("global_date","raw"),t,f("months_sm_of"),!n):h(1e3*e,f("global_short_date_time"+r,"raw"),t,f("months_sm_of"),!n)}function _(e,t,n){void 0===n&&(n=!0),void 0===t&&(t=0);var r=new Date,i=r.getFullYear(),o=r.getMonth(),a=new Date(1e3*e),c=a.getFullYear(),l=a.getMonth();return h(1e3*e,f(c<i&&(o>1||l<9||i-c>=2)?"global_date":"global_short_date_time","raw"),t,f("months_sm_of","raw"),!n)}window.parseLatin=o,window.parseCyr=a,window.parseLatKeys=c,window.langNumeric=l,window.langSex=u,window.langStr=s,window.addLangKeys=d,window.getLang=f,window.langDate=h,window.getShortDate=p,window.getShortDateOrTime=v,window.langWordNumeric=g,window.getDateText=w,window.getBigDateNew=m,window.getSmDate=_},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t),n.d(t,"ParagraphType",function(){return r}),n.d(t,"ResizableObjectTypes",function(){return i}),n.d(t,"ObjectResizeType",function(){return o}),n.d(t,"getAppropriateImage",function(){return c}),n.d(t,"preloadImage",function(){return u}),n.d(t,"mailruStatsPixel",function(){return s}),n.d(t,"getUrlParam",function(){return d});var r={Text:1,Header1:2,Header2:3,Header3:4,Code:5,NumericList:6,BulletList:7,Quote:8,Quote2:9,ObjectAudioPlaylist:100,ObjectPhoto:101,ObjectVideo:102,ObjectGIF:103,ObjectAudio:105},i=[r.ObjectPhoto,r.ObjectGIF,r.ObjectVideo],o={Normal:0,Float:1,Medium:2,Large:3};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t.call(e[n],n,e[n]))break;return e}function c(e,t,n){var r=[];if(a(e,function(e,t){n&&-1==["w","z","y","x","m","s"].indexOf(e)||r.push(t)}),!r.length)return[!1];r.sort(function(e,t){return e[1]-t[1]}),t*=window.devicePixelRatio>=2?2:1;var i=r[r.length-1];return a(r,function(e,n){if(n[1]>=t)return i=n,!1}),i}var l={};function u(e,t){if(!0===l[e])return t&&t(),!0;if(isArray(l[e]))return l[e].push(t),!1;l[e]=[t];var n=new Image;return n.onload=function(){var t=l[e];l[e]=!0,a(t,function(e,t){t&&t()})},n.src=e,!1}function s(e,t){if(isObject(t)&&!isEmpty(t)){var n="https://vk-callback.go.mail.ru/longread_pxl?action="+e;a(t,function(e,t){n+="&"+e+"="+t}),(new Image).src=n}}function d(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},function(e,t,n){"use strict";function r(){var e=null,t=window.getSelection();t.getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0));var n=null,r=null,i=0,o=0,a=document.activeElement;return e&&("selectionStart"in a?(n=a,r=a,i=a.selectionStart,o=a.selectionEnd):t.rangeCount&&(n=e.startContainer,r=e.endContainer,i=e.startOffset,o=e.endOffset)),[e,n,i,r,o]}function i(e){var t=window.getSelection();return t.removeAllRanges(),t.addRange(e),e}function o(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),i(o)}function a(e,t){if(t=t?t+"":"",!browser.msie&&document.execCommand)document.execCommand("insertHTML",!1,t);else if(e){e.deleteContents();var n=cf(t),r=n.lastChild;e.insertNode(n),r&&((e=e.cloneRange()).setStartAfter(r),e.collapse(!0),i(e))}return e}n.r(t),n.d(t,"rangeGet",function(){return r}),n.d(t,"rangeSet",function(){return i}),n.d(t,"rangeCreate",function(){return o}),n.d(t,"rangeInsert",function(){return a})}]);